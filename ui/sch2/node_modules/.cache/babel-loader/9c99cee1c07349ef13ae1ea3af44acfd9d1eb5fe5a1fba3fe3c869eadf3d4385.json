{"ast":null,"code":"import _slicedToArray from\"/home/qqtechx/Schichtbuch3/ui/sch2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Tab from'react-bootstrap/Tab';import Tabs from'react-bootstrap/Tabs';import moment from'moment';import BaseTable from'../BaseTable/BaseTable';import BasePagination from'../BasePagination/BasePagination';import BaseFormCreate from'../BaseCreatetable/BaseCreatetable';import BaseSearchPage from'../BaseSearchPage/BaseSearchPage';import{fetchGet}from\"../../api/index\";import'./BaseTabs.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BaseTabs(_ref){var darkMode=_ref.darkMode;var onlineDate=moment().format('DD.MM.YYYY // HH:mm');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableData=_useState2[0],setTableData=_useState2[1];var _useState3=useState('ubersicht'),_useState4=_slicedToArray(_useState3,2),key=_useState4[0],setKey=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),limit=_useState8[0],setLimit=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),datLength=_useState10[0],setDatLength=_useState10[1];var _useState11=useState(Math.ceil(datLength/limit)),_useState12=_slicedToArray(_useState11,2),totalPage=_useState12[0],setTotalPage=_useState12[1];var handlePageChange=function handlePageChange(value){if(value===\"... \"){setPage(1);}else if(value===\"previous\"){if(page!==1)setPage(page-1);}else if(value==='next'){if(page!==totalPage)setPage(page+1);}else if(value===\" ...\"){setPage(totalPage);}else{setPage(value);}};if(limit>10){setLimit(10);}useEffect(function(){fetchGet(page).then(function(res){var _res$data,_res$data2;setTableData(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.items);setDatLength(res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.length);});},[page]);useEffect(function(){setTotalPage(Math.ceil(datLength/limit));},[datLength,limit]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 position-relative\",children:[/*#__PURE__*/_jsxs(Tabs,{id:\"controlled-tab-example\",activeKey:key,onSelect:function onSelect(k){return setKey(k);},className:\"bg_tab_header \".concat(darkMode?'bg-dark border border-white':''),children:[/*#__PURE__*/_jsx(Tab,{tabClassName:\"fs-5 fw-bold border-0 rounded-0 text-\".concat(key==='neu'?'dark':darkMode?'white':'dark'),eventKey:\"neu\",title:\"+ NEU\",children:/*#__PURE__*/_jsx(BaseFormCreate,{darkMode:darkMode,page:page,setTableData:setTableData,setKey:setKey})}),/*#__PURE__*/_jsxs(Tab,{tabClassName:\"fs-5 fw-bold border-0 rounded-0 text-\".concat(key==='ubersicht'?'dark':darkMode?'white':'dark'),eventKey:\"ubersicht\",title:\"\\xDCbersicht\",children:[/*#__PURE__*/_jsx(BaseTable,{darkMode:darkMode,data:tableData,page:page,setTableData:setTableData,setDatLength:setDatLength,isSort:true}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center paginationTable\",children:/*#__PURE__*/_jsx(BasePagination,{darkMode:darkMode,totalPage:totalPage,page:page,limit:limit,siblings:1,datLength:datLength,onPageChange:handlePageChange})})]}),/*#__PURE__*/_jsx(Tab,{tabClassName:\"fs-5 fw-bold border-0 rounded-0 text-\".concat(key==='suche'?'dark':darkMode?'white':'dark'),eventKey:\"suche\",title:\"Suche\",children:/*#__PURE__*/_jsx(BaseSearchPage,{darkMode:darkMode,setTableData:setTableData,setDatLength:setDatLength})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"d-none d-md-block position-absolute top-0 end-0 translate-middle-x d-flex align-items-center mt-2 text-\".concat(darkMode?'white':'dark'),children:onlineDate})]});}export default BaseTabs;","map":{"version":3,"names":["useState","useEffect","Tab","Tabs","moment","BaseTable","BasePagination","BaseFormCreate","BaseSearchPage","fetchGet","jsx","_jsx","jsxs","_jsxs","BaseTabs","_ref","darkMode","onlineDate","format","_useState","_useState2","_slicedToArray","tableData","setTableData","_useState3","_useState4","key","setKey","_useState5","_useState6","page","setPage","_useState7","_useState8","limit","setLimit","_useState9","_useState10","datLength","setDatLength","_useState11","Math","ceil","_useState12","totalPage","setTotalPage","handlePageChange","value","then","res","_res$data","_res$data2","data","items","length","className","children","id","activeKey","onSelect","k","concat","tabClassName","eventKey","title","isSort","siblings","onPageChange"],"sources":["/home/qqtechx/Schichtbuch3/ui/sch2/src/components/BaseTabs/BaseTabs.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport moment from 'moment';\nimport BaseTable from '../BaseTable/BaseTable';\nimport BasePagination from '../BasePagination/BasePagination';\nimport BaseFormCreate from '../BaseCreatetable/BaseCreatetable';\nimport BaseSearchPage from '../BaseSearchPage/BaseSearchPage';\nimport { fetchGet } from \"../../api/index\"\n\nimport './BaseTabs.css'\n\nfunction BaseTabs({ darkMode }) {\n\n    const onlineDate = moment().format('DD.MM.YYYY // HH:mm')\n\n    const [tableData, setTableData] = useState([])\n    const [key, setKey] = useState('ubersicht');\n    const [page, setPage] = useState(1)\n    const [limit, setLimit] = useState(10)\n    const [datLength, setDatLength] = useState([])\n\n    const [totalPage, setTotalPage] = useState(Math.ceil(datLength / limit))\n\n    const handlePageChange = (value) => {\n        if (value === \"... \") {\n            setPage(1)\n        } else if (value === \"previous\") {\n            if (page !== 1) setPage(page - 1)\n        } else if (value === 'next') {\n            if (page !== totalPage) setPage(page + 1)\n        } else if (value === \" ...\") {\n            setPage(totalPage)\n        } else {\n            setPage(value)\n        }\n    }\n\n    if (limit > 10) {\n        setLimit(10)\n    }\n\n\n    useEffect(() => {\n        fetchGet(page).then(res => {\n            setTableData(res?.data?.items)\n            setDatLength(res?.data?.length)\n        })\n    }, [page])\n\n    useEffect(() => {\n        setTotalPage(Math.ceil(datLength / limit))\n    }, [datLength, limit])\n\n    return (\n\n        <div className='w-100 position-relative' >\n            <Tabs\n                id=\"controlled-tab-example\"\n                activeKey={key}\n                onSelect={(k) => setKey(k)}\n                className={`bg_tab_header ${darkMode ? 'bg-dark border border-white' : ''}`}\n            >\n                <Tab tabClassName={`fs-5 fw-bold border-0 rounded-0 text-${key === 'neu' ? 'dark' : darkMode ? 'white' : 'dark'}`} eventKey=\"neu\" title=\"+ NEU\">\n                    <BaseFormCreate darkMode={darkMode} page={page} setTableData={setTableData} setKey={setKey} />\n                </Tab>\n                <Tab tabClassName={`fs-5 fw-bold border-0 rounded-0 text-${key === 'ubersicht' ? 'dark' : darkMode ? 'white' : 'dark'}`} eventKey=\"ubersicht\" title=\"Ãœbersicht\">\n                    <BaseTable\n                        darkMode={darkMode}\n                        data={tableData}\n                        page={page}\n                        setTableData={setTableData}\n                        setDatLength={setDatLength}\n                        isSort={true}\n                    />\n                    <div className='d-flex justify-content-center paginationTable'>\n                        <BasePagination\n                            darkMode={darkMode}\n                            totalPage={totalPage}\n                            page={page}\n                            limit={limit}\n                            siblings={1}\n                            datLength={datLength}\n                            onPageChange={handlePageChange}\n                        />\n                    </div>\n                </Tab>\n                <Tab tabClassName={`fs-5 fw-bold border-0 rounded-0 text-${key === 'suche' ? 'dark' : darkMode ? 'white' : 'dark'}`} eventKey=\"suche\" title=\"Suche\">\n                    <BaseSearchPage\n                        darkMode={darkMode}\n                        setTableData={setTableData}\n                        setDatLength={setDatLength}\n                    />\n                </Tab>\n            </Tabs>\n            <span className={`d-none d-md-block position-absolute top-0 end-0 translate-middle-x d-flex align-items-center mt-2 text-${darkMode ? 'white' : 'dark'}`} >{onlineDate}</span>\n        </div>\n    );\n}\n\nexport default BaseTabs;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}